{
  "version": 3,
  "sources": ["../../src-frontend/press-apply.ts"],
  "sourcesContent": ["/**\n * Press Apply Page - Form Handling (User ID + Password Authentication)\n */\n\n// DOM Element Selectors\nconst pressApplyForm = document.getElementById('press-apply-form') as HTMLFormElement | null;\nconst pressFormMessage = document.getElementById('press-form-message') as HTMLDivElement | null;\n\n/**\n * Initialize Press Apply Form\n */\nfunction initPressApplyForm() {\n  if (!pressApplyForm || !pressFormMessage) {\n    return;\n  }\n\n  pressApplyForm.addEventListener('submit', async (e) => {\n    e.preventDefault();\n\n    // Get form data\n    const userId = (document.getElementById('user-id') as HTMLInputElement).value.trim();\n    const password = (document.getElementById('password') as HTMLInputElement).value;\n    const passwordConfirm = (document.getElementById('password-confirm') as HTMLInputElement).value;\n    const organizationName = (document.getElementById('organization-name') as HTMLInputElement).value.trim();\n    const organizationType = (document.getElementById('organization-type') as HTMLSelectElement).value;\n    const contactPerson = (document.getElementById('contact-person') as HTMLInputElement).value.trim();\n    const email = (document.getElementById('press-email') as HTMLInputElement).value.trim();\n    const phone = (document.getElementById('press-phone') as HTMLInputElement).value.trim();\n    const note = (document.getElementById('press-note') as HTMLTextAreaElement).value.trim();\n\n    // Validate required fields\n    if (!userId || !password || !passwordConfirm || !organizationName || !organizationType || !contactPerson || !email) {\n      showPressFormMessage('\u3059\u3079\u3066\u306E\u5FC5\u9808\u9805\u76EE\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002', 'error');\n      return;\n    }\n\n    // Validate user ID format\n    const userIdRegex = /^[a-zA-Z0-9\\-_]{4,20}$/;\n    if (!userIdRegex.test(userId)) {\n      showPressFormMessage('\u30E6\u30FC\u30B6\u30FCID\u306F4\u301C20\u6587\u5B57\u306E\u534A\u89D2\u82F1\u6570\u5B57\u3001\u30CF\u30A4\u30D5\u30F3\u3001\u30A2\u30F3\u30C0\u30FC\u30B9\u30B3\u30A2\u3067\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002', 'error');\n      return;\n    }\n\n    // Validate password length\n    if (password.length < 8) {\n      showPressFormMessage('\u30D1\u30B9\u30EF\u30FC\u30C9\u306F8\u6587\u5B57\u4EE5\u4E0A\u3067\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002', 'error');\n      return;\n    }\n\n    // Validate password match\n    if (password !== passwordConfirm) {\n      showPressFormMessage('\u30D1\u30B9\u30EF\u30FC\u30C9\u304C\u4E00\u81F4\u3057\u307E\u305B\u3093\u3002', 'error');\n      return;\n    }\n\n    // Email validation\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      showPressFormMessage('\u6709\u52B9\u306A\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002', 'error');\n      return;\n    }\n\n    // Map form data to API format\n    const formData = {\n      userId,\n      password,\n      organizationName,\n      organizationType,\n      contactName: contactPerson,\n      contactEmail: email,\n      contactPhone: phone || undefined,\n      notes: note || undefined\n    };\n\n    try {\n      // Show loading state\n      const submitButton = pressApplyForm.querySelector('button[type=\"submit\"]') as HTMLButtonElement;\n      const originalText = submitButton.textContent || '\u7533\u3057\u8FBC\u3080';\n      submitButton.disabled = true;\n      submitButton.textContent = '\u9001\u4FE1\u4E2D...';\n\n      // Submit to API\n      const response = await fetch('/api/press-account-application', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error || '\u9001\u4FE1\u306B\u5931\u6557\u3057\u307E\u3057\u305F');\n      }\n\n      // Show success message\n      showPressFormMessage(result.message || '\u304A\u7533\u3057\u8FBC\u307F\u3042\u308A\u304C\u3068\u3046\u3054\u3056\u3044\u307E\u3059\u3002\u5BE9\u67FB\u5B8C\u4E86\u5F8C\u3001\u30E1\u30FC\u30EB\u306B\u3066\u3054\u9023\u7D61\u3044\u305F\u3057\u307E\u3059\u3002', 'success');\n\n      // Reset form\n      pressApplyForm.reset();\n\n      // Reset submit button\n      submitButton.disabled = false;\n      submitButton.textContent = originalText;\n    } catch (error) {\n      console.error('Press apply form submission error:', error);\n      const errorMessage = error instanceof Error ? error.message : '\u9001\u4FE1\u4E2D\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002\u3082\u3046\u4E00\u5EA6\u304A\u8A66\u3057\u304F\u3060\u3055\u3044\u3002';\n      showPressFormMessage(errorMessage, 'error');\n\n      // Reset submit button\n      const submitButton = pressApplyForm.querySelector('button[type=\"submit\"]') as HTMLButtonElement;\n      submitButton.disabled = false;\n      submitButton.textContent = '\u7533\u3057\u8FBC\u3080';\n    }\n  });\n}\n\n/**\n * Display form message to user\n */\nfunction showPressFormMessage(message: string, type: 'success' | 'error') {\n  if (!pressFormMessage) return;\n\n  pressFormMessage.textContent = message;\n  pressFormMessage.className = `form-message ${type}`;\n  pressFormMessage.style.display = 'block';\n\n  // Scroll to message\n  pressFormMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n\n  // Auto-hide success messages after 5 seconds\n  if (type === 'success') {\n    setTimeout(() => {\n      if (pressFormMessage) {\n        pressFormMessage.style.display = 'none';\n      }\n    }, 5000);\n  }\n}\n\n// Initialize on DOM Content Loaded\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initPressApplyForm);\n} else {\n  initPressApplyForm();\n}\n\nexport { initPressApplyForm, showPressFormMessage };\n"],
  "mappings": "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",
  "names": []
}
