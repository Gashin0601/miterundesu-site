{
  "version": 3,
  "sources": ["../../src-frontend/press-apply.ts"],
  "sourcesContent": ["/**\n * Press Apply Page - Form Handling\n * \u30D7\u30EC\u30B9\u30E2\u30FC\u30C9\u7533\u8ACB\u30D5\u30A9\u30FC\u30E0\n */\n\n// DOM Element Selectors\nconst pressApplyForm = document.getElementById('press-apply-form') as HTMLFormElement | null;\nconst pressFormMessage = document.getElementById('press-form-message') as HTMLDivElement | null;\n\n/**\n * Initialize Press Apply Form\n */\nfunction initPressApplyForm() {\n  if (!pressApplyForm || !pressFormMessage) {\n    return;\n  }\n\n  pressApplyForm.addEventListener('submit', async (e) => {\n    e.preventDefault();\n\n    // Get form elements\n    const organizationNameEl = document.getElementById('organization-name') as HTMLInputElement | null;\n    const organizationTypeEl = document.getElementById('organization-type') as HTMLSelectElement | null;\n    const contactPersonEl = document.getElementById('contact-person') as HTMLInputElement | null;\n    const emailEl = document.getElementById('press-email') as HTMLInputElement | null;\n    const phoneEl = document.getElementById('press-phone') as HTMLInputElement | null;\n    const noteEl = document.getElementById('press-note') as HTMLTextAreaElement | null;\n\n    // Get form data\n    const organizationName = organizationNameEl?.value.trim() || '';\n    const organizationType = organizationTypeEl?.value || '';\n    const contactPerson = contactPersonEl?.value.trim() || '';\n    const email = emailEl?.value.trim() || '';\n    const phone = phoneEl?.value.trim() || '';\n    const note = noteEl?.value.trim() || '';\n\n    // Validate required fields with specific messages\n    if (!organizationName) {\n      showPressFormMessage('\u7D44\u7E54\u540D\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002', 'error');\n      organizationNameEl?.focus();\n      return;\n    }\n\n    if (!organizationType) {\n      showPressFormMessage('\u7D44\u7E54\u7A2E\u5225\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044\u3002', 'error');\n      organizationTypeEl?.focus();\n      return;\n    }\n\n    if (!contactPerson) {\n      showPressFormMessage('\u62C5\u5F53\u8005\u540D\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002', 'error');\n      contactPersonEl?.focus();\n      return;\n    }\n\n    if (!email) {\n      showPressFormMessage('\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002', 'error');\n      emailEl?.focus();\n      return;\n    }\n\n    // Email validation\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      showPressFormMessage('\u6709\u52B9\u306A\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002', 'error');\n      emailEl?.focus();\n      return;\n    }\n\n    // Map form data to API format\n    const formData = {\n      organizationName,\n      organizationType,\n      contactPerson,\n      email,\n      phone: phone || undefined,\n      note: note || undefined\n    };\n\n    try {\n      // Show loading state\n      const submitButton = pressApplyForm.querySelector('button[type=\"submit\"]') as HTMLButtonElement;\n      const originalText = submitButton.textContent || '\u7533\u3057\u8FBC\u3080';\n      submitButton.disabled = true;\n      submitButton.textContent = '\u9001\u4FE1\u4E2D...';\n\n      // Submit to API\n      const response = await fetch('/api/press-application', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error || '\u9001\u4FE1\u306B\u5931\u6557\u3057\u307E\u3057\u305F');\n      }\n\n      // Show success message\n      showPressFormMessage(result.message || '\u7533\u8ACB\u3092\u53D7\u3051\u4ED8\u3051\u307E\u3057\u305F\u3002\\n\u78BA\u8A8D\u30E1\u30FC\u30EB\u3092\u304A\u9001\u308A\u3057\u307E\u3057\u305F\u306E\u3067\u3054\u78BA\u8A8D\u304F\u3060\u3055\u3044\u3002\\n2\u301C3\u55B6\u696D\u65E5\u4EE5\u5185\u306B\u5BE9\u67FB\u3092\u884C\u3044\u3001\u7D50\u679C\u3092\u30E1\u30FC\u30EB\u306B\u3066\u304A\u77E5\u3089\u305B\u3057\u307E\u3059\u3002', 'success');\n\n      // Reset form\n      pressApplyForm.reset();\n\n      // Reset submit button\n      submitButton.disabled = false;\n      submitButton.textContent = originalText;\n    } catch (error) {\n      console.error('Press apply form submission error:', error);\n      const errorMessage = error instanceof Error ? error.message : '\u9001\u4FE1\u4E2D\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002\u3082\u3046\u4E00\u5EA6\u304A\u8A66\u3057\u304F\u3060\u3055\u3044\u3002';\n      showPressFormMessage(errorMessage, 'error');\n\n      // Reset submit button\n      const submitButton = pressApplyForm.querySelector('button[type=\"submit\"]') as HTMLButtonElement;\n      submitButton.disabled = false;\n      submitButton.textContent = '\u7533\u3057\u8FBC\u3080';\n    }\n  });\n}\n\n/**\n * Display form message to user\n */\nfunction showPressFormMessage(message: string, type: 'success' | 'error') {\n  if (!pressFormMessage) return;\n\n  pressFormMessage.textContent = message;\n  pressFormMessage.className = `form-message ${type}`;\n  pressFormMessage.style.display = 'block';\n\n  // Scroll to message\n  pressFormMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n\n  // Auto-hide success messages after 8 seconds\n  if (type === 'success') {\n    setTimeout(() => {\n      if (pressFormMessage) {\n        pressFormMessage.style.display = 'none';\n      }\n    }, 8000);\n  }\n}\n\n// Initialize on DOM Content Loaded\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initPressApplyForm);\n} else {\n  initPressApplyForm();\n}\n\nexport { initPressApplyForm, showPressFormMessage };\n"],
  "mappings": "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",
  "names": []
}
