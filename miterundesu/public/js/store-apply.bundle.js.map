{
  "version": 3,
  "sources": ["../../src-frontend/store-apply.ts"],
  "sourcesContent": ["/**\n * Store Apply Page - Form Handling\n */\n\n// DOM Element Selectors\nconst storeApplyForm = document.getElementById('store-apply-form') as HTMLFormElement | null;\nconst storeFormMessage = document.getElementById('store-form-message') as HTMLDivElement | null;\n\n/**\n * Initialize Store Apply Form\n */\nfunction initStoreApplyForm() {\n  if (!storeApplyForm || !storeFormMessage) {\n    return;\n  }\n\n  storeApplyForm.addEventListener('submit', async (e) => {\n    e.preventDefault();\n\n    // Get form data\n    const formData = {\n      storeName: (document.getElementById('store-name') as HTMLInputElement).value,\n      industry: (document.getElementById('industry') as HTMLSelectElement).value,\n      posterType: (document.querySelector('input[name=\"poster-type\"]:checked') as HTMLInputElement)?.value || '',\n      location: (document.getElementById('location') as HTMLInputElement).value,\n      email: (document.getElementById('store-email') as HTMLInputElement).value,\n      phone: (document.getElementById('store-phone') as HTMLInputElement).value,\n      note: (document.getElementById('store-note') as HTMLTextAreaElement).value\n    };\n\n    // Validate required fields\n    if (!formData.storeName || !formData.industry || !formData.posterType) {\n      showStoreFormMessage('\u3059\u3079\u3066\u306E\u5FC5\u9808\u9805\u76EE\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002', 'error');\n      return;\n    }\n\n    // Email validation (if provided)\n    if (formData.email) {\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      if (!emailRegex.test(formData.email)) {\n        showStoreFormMessage('\u6709\u52B9\u306A\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002', 'error');\n        return;\n      }\n    }\n\n    try {\n      // Show loading state\n      const submitButton = storeApplyForm.querySelector('button[type=\"submit\"]') as HTMLButtonElement;\n      const originalText = submitButton.textContent || '\u9001\u4FE1\u3059\u308B';\n      submitButton.disabled = true;\n      submitButton.textContent = '\u9001\u4FE1\u4E2D...';\n\n      // Submit to API\n      const response = await fetch('/api/store-application', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(formData)\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error || '\u9001\u4FE1\u306B\u5931\u6557\u3057\u307E\u3057\u305F');\n      }\n\n      // Show success message\n      showStoreFormMessage(result.message, 'success');\n\n      // Reset form\n      storeApplyForm.reset();\n\n      // Reset submit button\n      submitButton.disabled = false;\n      submitButton.textContent = originalText;\n    } catch (error) {\n      console.error('Store apply form submission error:', error);\n      showStoreFormMessage('\u9001\u4FE1\u4E2D\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002\u3082\u3046\u4E00\u5EA6\u304A\u8A66\u3057\u304F\u3060\u3055\u3044\u3002', 'error');\n\n      // Reset submit button\n      const submitButton = storeApplyForm.querySelector('button[type=\"submit\"]') as HTMLButtonElement;\n      submitButton.disabled = false;\n      submitButton.textContent = '\u9001\u4FE1\u3059\u308B';\n    }\n  });\n}\n\n/**\n * Display form message to user\n */\nfunction showStoreFormMessage(message: string, type: 'success' | 'error') {\n  if (!storeFormMessage) return;\n\n  storeFormMessage.textContent = message;\n  storeFormMessage.className = `form-message ${type}`;\n  storeFormMessage.style.display = 'block';\n\n  // Scroll to message\n  storeFormMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n\n  // Auto-hide success messages after 5 seconds\n  if (type === 'success') {\n    setTimeout(() => {\n      if (storeFormMessage) {\n        storeFormMessage.style.display = 'none';\n      }\n    }, 5000);\n  }\n}\n\n// Initialize on DOM Content Loaded\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initStoreApplyForm);\n} else {\n  initStoreApplyForm();\n}\n\nexport { initStoreApplyForm, showStoreFormMessage };\n"],
  "mappings": ";AAKA,IAAM,iBAAiB,SAAS,eAAe,kBAAkB;AACjE,IAAM,mBAAmB,SAAS,eAAe,oBAAoB;AAKrE,SAAS,qBAAkB;AACzB,MAAI,CAAC,kBAAkB,CAAC,kBAAkB;AACxC;EACF;AAEA,iBAAe,iBAAiB,UAAU,OAAO,MAAK;AACpD,MAAE,eAAc;AAGhB,UAAM,WAAW;MACf,WAAY,SAAS,eAAe,YAAY,EAAuB;MACvE,UAAW,SAAS,eAAe,UAAU,EAAwB;MACrE,YAAa,SAAS,cAAc,mCAAmC,GAAwB,SAAS;MACxG,UAAW,SAAS,eAAe,UAAU,EAAuB;MACpE,OAAQ,SAAS,eAAe,aAAa,EAAuB;MACpE,OAAQ,SAAS,eAAe,aAAa,EAAuB;MACpE,MAAO,SAAS,eAAe,YAAY,EAA0B;;AAIvE,QAAI,CAAC,SAAS,aAAa,CAAC,SAAS,YAAY,CAAC,SAAS,YAAY;AACrE,2BAAqB,gHAAsB,OAAO;AAClD;IACF;AAGA,QAAI,SAAS,OAAO;AAClB,YAAM,aAAa;AACnB,UAAI,CAAC,WAAW,KAAK,SAAS,KAAK,GAAG;AACpC,6BAAqB,4HAAwB,OAAO;AACpD;MACF;IACF;AAEA,QAAI;AAEF,YAAM,eAAe,eAAe,cAAc,uBAAuB;AACzE,YAAM,eAAe,aAAa,eAAe;AACjD,mBAAa,WAAW;AACxB,mBAAa,cAAc;AAG3B,YAAM,WAAW,MAAM,MAAM,0BAA0B;QACrD,QAAQ;QACR,SAAS;UACP,gBAAgB;;QAElB,MAAM,KAAK,UAAU,QAAQ;OAC9B;AAED,YAAM,SAAS,MAAM,SAAS,KAAI;AAElC,UAAI,CAAC,SAAS,IAAI;AAChB,cAAM,IAAI,MAAM,OAAO,SAAS,wDAAW;MAC7C;AAGA,2BAAqB,OAAO,SAAS,SAAS;AAG9C,qBAAe,MAAK;AAGpB,mBAAa,WAAW;AACxB,mBAAa,cAAc;IAC7B,SAAS,OAAO;AACd,cAAQ,MAAM,sCAAsC,KAAK;AACzD,2BAAqB,sKAA+B,OAAO;AAG3D,YAAM,eAAe,eAAe,cAAc,uBAAuB;AACzE,mBAAa,WAAW;AACxB,mBAAa,cAAc;IAC7B;EACF,CAAC;AACH;AAKA,SAAS,qBAAqB,SAAiB,MAAyB;AACtE,MAAI,CAAC;AAAkB;AAEvB,mBAAiB,cAAc;AAC/B,mBAAiB,YAAY,gBAAgB,IAAI;AACjD,mBAAiB,MAAM,UAAU;AAGjC,mBAAiB,eAAe,EAAE,UAAU,UAAU,OAAO,UAAS,CAAE;AAGxE,MAAI,SAAS,WAAW;AACtB,eAAW,MAAK;AACd,UAAI,kBAAkB;AACpB,yBAAiB,MAAM,UAAU;MACnC;IACF,GAAG,GAAI;EACT;AACF;AAGA,IAAI,SAAS,eAAe,WAAW;AACrC,WAAS,iBAAiB,oBAAoB,kBAAkB;AAClE,OAAO;AACL,qBAAkB;AACpB;",
  "names": []
}
